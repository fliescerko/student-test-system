<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: header('æˆ‘çš„æˆç»© - å­¦ç”Ÿæˆç»©ç³»ç»Ÿ')"></head>

<body>
<!--<header th:replace="fragments/header :: navbar"></header>-->

<main class="container">
    <!-- æ ‡é¢˜åŒº -->
    <section class="page-header">
        <h2>æˆ‘çš„æˆç»©</h2>
        <p class="term-info" th:text="'å­¦æœŸï¼š' + ${term}"></p>
    </section>

    <!-- æ€»è¯„è¡¨æ ¼ -->
    <section class="score-section">
        <h3>ğŸ“˜ è¯¾ç¨‹æ€»è¯„</h3>
        <div class="table-wrapper">
            <table class="data-table">
                <thead>
                <tr>
                    <th>è¯¾ç¨‹ä»£ç </th>
                    <th>è¯¾ç¨‹åç§°</th>
                    <th>æ€»è¯„</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="c : ${totals}">
                    <td th:text="${c.courseCode}"></td>
                    <td th:text="${c.courseName}"></td>
                    <td th:text="${#numbers.formatDecimal(c.total,1,2)}"></td>
                </tr>
                <tr th:if="${#lists.isEmpty(totals)}">
                    <td colspan="3" class="empty">æš‚æ— æˆç»©æ•°æ®</td>
                </tr>
                </tbody>
            </table>
        </div>
    </section>

    <!-- æ˜ç»†è¡¨æ ¼ -->
    <section class="score-section">
        <h3>ğŸ§¾ è¯„åˆ†æ˜ç»†</h3>
        <div class="table-wrapper">
            <table class="data-table">
                <thead>
                <tr>
                    <th>è¯¾ç¨‹</th>
                    <th>è¯„åˆ†é¡¹</th>
                    <th>æƒé‡(%)</th>
                    <th>å¾—åˆ†</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="g : ${details}">
                    <td th:text="${g.gradeItem.course.name}"></td>
                    <td th:text="${g.gradeItem.name}"></td>
                    <td th:text="${#numbers.formatDecimal(g.gradeItem.weight, 1, 0)}"></td>
                    <td th:text="${#numbers.formatDecimal(g.score, 1, 1)}"></td>
                </tr>
                <tr th:if="${#lists.isEmpty(details)}">
                    <td colspan="4" class="empty">æš‚æ— è¯„åˆ†æ˜ç»†</td>
                </tr>
                </tbody>
            </table>
        </div>
    </section>
</main>

<footer>
    <p>Â© 2025 å­¦ç”Ÿæˆç»©ç³»ç»Ÿ | <a th:href="@{/}">è¿”å›é¦–é¡µ</a></p>
</footer>

<!-- å†…è”æ ·å¼å¯æå–åˆ° main.css -->
<style>
    .container {
        max-width: 1000px;
        margin: 2rem auto;
        padding: 1rem 1.5rem;
        background-color: #ffffff;
        border-radius: 12px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    }

    .page-header {
        text-align: center;
        margin-bottom: 2rem;
    }

    .page-header h2 {
        font-size: 1.8rem;
        color: #2c3e50;
        margin-bottom: 0.3rem;
    }

    .term-info {
        color: #666;
        font-size: 0.95rem;
    }

    .score-section {
        margin-bottom: 2rem;
    }

    .score-section h3 {
        margin-bottom: 1rem;
        color: #34495e;
        border-left: 5px solid #3498db;
        padding-left: 0.6rem;
    }

    .table-wrapper {
        overflow-x: auto;
    }

    .data-table {
        width: 100%;
        border-collapse: collapse;
        border-radius: 8px;
        overflow: hidden;
    }

    .data-table thead {
        background-color: #3498db;
        color: white;
    }

    .data-table th, .data-table td {
        padding: 0.8rem 1rem;
        text-align: center;
        border-bottom: 1px solid #eee;
    }

    .data-table tr:nth-child(even) {
        background-color: #f8f9fa;
    }

    .data-table tr:hover {
        background-color: #eef6fd;
    }

    .data-table .empty {
        color: #888;
        font-style: italic;
        text-align: center;
    }

    footer {
        text-align: center;
        padding: 1rem;
        margin-top: 2rem;
        color: #666;
        font-size: 0.9rem;
    }

    footer a {
        color: #3498db;
        text-decoration: none;
    }

    footer a:hover {
        text-decoration: underline;
    }

    @media (max-width: 768px) {
        .data-table th, .data-table td {
            padding: 0.5rem;
            font-size: 0.9rem;
        }
        .page-header h2 {
            font-size: 1.5rem;
        }
    }
</style>
</body>
</html>
